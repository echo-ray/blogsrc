---
title: tcpip协议笔记-internet地址结构
date: 2018-09-13 12:14:28
tags:
- net
- tcp/ip
---

## tcpip协议笔记-internet地址结构

### 单播地址

用于识别连接internet或某些专用的内联网的计算机网络接口，这些地址成为单播地址

大部分地址为单播地址，还有广播、组播、任播地址。

<!--more-->

### 分类寻址

早些的IP地址有网络部分和主机地址
网络部分：用于识别接口使用的IP地址在哪个网络中可被发现，有网络号
主机地址：用于识别网络部分给出的网络中的特定的主机，有主机号

基于当前的或预计的主机数量，将不同大小的IP地址空间分配给不同的站点，可以划分五大类

![分类](https://qiniu.li-rui.top/分类.png)

ABC为单播，D为组播地址

具体分类

![分类主机数量](https://qiniu.li-rui.top/分类主机数量.png)

该分类方法在20世纪80年代主要使用
缺点：多网段分配出现规模问题

### 子网寻址

分类寻找不好办了，于是：当一个站点(理解为核心路由节点)接入internet后就为其分配一个网络号，然后由站点管理员进一步划分本地的子网数量。这样就不会改变internet的核心路由基础设施。

实现这个分类方法首先要突破分类寻址中关于网络部分和主机部分的一些限制，这仅仅是在站点内部的操作，在站点外来看仍然是传统的ABC类地址。这就是子网寻址

具体就是一个站点被分为一个ABC类的网络号，站点管理员会将剩下的主机号划分出来一部分作为子网的网路号，进一步将子网划分。图中站点IP为137.164.23.30，所有发往128.32.*.*的流量都将进入到这个IP，然后该边界路由器(连接interner和内网的节点，也是internet中的一个节点)进行将去往128.32.1.*和128.32.2.*流量进行分流。

![子网划分](https://qiniu.li-rui.top/子网划分.png)

### 子网掩码

是主机和路由器使用的分配位，可以通过一台主机的IP加上子网掩码就可以获取网络和子网信息。子网掩码和对应的IP地址长度相同，IP4为32位，IP6为128位。子网掩码可以是静态和动态，子网掩码仅仅存在于站点内部，站点外的边界路由只是靠网络号进行通信。

写法有点分十进制和前缀长度

![子网掩码写法](https://qiniu.li-rui.top/子网掩码写法.png)

子网掩码中的位是1就对应IP所在的子网部分，0就是对应IP地址对应主机id部分。

### 可变长度子网掩码(VLSM)

可以将不同长度的子网掩码应用于同一个网络号，进而出现更灵活的子网划分

![vlsm](https://qiniu.li-rui.top/vlsm.png)

### 广播地址

**在IPv4子网**中的一个特殊地址作为子网的广播地址。
获取子网广播地址：在网段中任意取一个网络地址对其掩码取反，让后进行或运算。
通过一个子网的广播地址可以向子网中的主机发送数据包。

ipv6没有广播，只有组播。255.255.255.255为本地网络广播，不会被路由器转发。












