---
title: ansible-感受运维之美
date: 2019-04-14 21:12:28
tags:
- ansible
- 浅谈
---

# 一个问题

在所有的开始之前，我们先抛出一个问题：

什么样的技术才可以促使生产力的极大提升？

当我们试图去用“科技是第一生产力”去解答上面的问题时，就容易陷入以技术含量来评价创新的误区。如果我们把目光聚焦在更宏观的地方，单个系统中的状态流转就进入视野中。大幅度降低流转成本也许将成为提高系统总效能的另一条途径。这就是DEVOPS在软件研发系统里所努力的方向。



<!--more-->

DEVOPS是研发系统内的系统性创新。其着眼点在于对整个研发系统中的子系统之间的交付和反馈过程进行系统级别的优化，进一步将这些过程自动化，从而直接提升整体效率。早在2009年，著名图片分享网站Flickr就可以在一天内连续进行10次以上的版本迭代。当前以kubernetes为代表的微服务技术更是以DEVOPS为基石愈演愈烈。DEVOPS在完成系统性创新的同时必然伴随着相关自动化工具的加入。从早期的SaltStack到本文所将要介绍的ansible，虽然不同工具都在阐述他们对DEVOPS的理解，但从系统性创新的角度上看他们殊途同归。

# 为什么选择ansible

## 一棵大树，python
Ansible使用python语言，并且开源。1300多个python包涵盖了系统以及应用层面的方方面面，很容易被ansible集成。即便如此，ansible还为其他语言提供了开发接口，比如Java。
## 一个端，仅有服务端
ansible是弱客户端的，被控节点上仅需安装python2/3，服务端通过ssh协议和远端节点通讯，大多数Linux发行版均内置python和ssh，windows则使用powershell。Ansible同时把最新版本发布到EPEL源和PyPI源，这意味着安装ansible仅需一条命令，Ansible从安装上就快人一步。
## 一个好爹，Redhat
不同DEVOPS工具在推行的同时本质上是在推行该工具所制定的行业标准，Ansible在2015年被Redhat收购，依靠Redhat的号召力和影响力，再加上Redhat的众多产品线也纷纷将ansible作为默认部署工具的推波助澜，ansible有望称为DEVOPS的行业标准。

# 工具链

就目前DEVOPS发展现状而言，依靠单独一个工具来实现是不现实的，“尺有所长，寸有所短”，让不同的工具来完成他们擅长的部分，我们需要使用一个工具链来提高效率。比如Ansible+Jenkins+Docker+Gitlab：Ansible管理着什么时候该做什么；Jenkins管理着到什么阶段该怎样做；docker为程序测试或者运行环境提供了很好的隔离性，以及相对于主机有着很多的天然优势；gitlab为前三者提供了高效率的版本控制与资源托管。
